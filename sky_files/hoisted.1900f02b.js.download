import"./hoisted.e3789e4c.js";import{d as r,a as f}from"./index.44e508e1.js";import{h as i}from"./index.c4f80e29.js";import"./hoisted.4a546ce0.js";import"./lazy.ac812cf9.js";import"./index.119f9a73.js";import"./index.70156978.js";import"./preload-helper.42fd08bd.js";function d(){import.meta.url,import("data:text/javascript,").catch(()=>1);async function*e(){}d.g=e}const m='input[name="prfRealName"],input[name="prfCompanyName"]',c="_CJ",h="._cI label",a={},u="sorry,there are some problems,please contract us...";document.addEventListener("down:prf",e=>{Object.assign(a,e.detail),y()});r("input",m,function(){this.parentElement.querySelector("span").hidden=!!this.value});let o=null;r("click",h,function(){this.classList.add(c),o=this},()=>{o&&(o.classList.remove(c),o=null)});r("click","._dI",function(){const e=g();if(e){this.disabled=!0;const s="/api/message/vrf-name"+(a.isTeam?"-team":""),t={name:e.prfRealName,company_name:e.prfCompanyName,...a.data};(()=>a.isTeam?i.post(s,t):i.get(s,t))().then(n=>{this.disabled=!1,p(!1),n.status==1&&n.url?window.open(n.url,"_blank"):n.status==404&&alert(u)}).catch(()=>{this.disabled=!1})}});function g(){const e=document.querySelectorAll(m),s=new Set,t={};for(const l of e){const n=l.value.trim();l.parentElement.classList[n?"remove":"add"]("_yj"),n?t[l.name]=n:s.add(0)}return s.size?null:t}function p(e){f(document,"dialog:toggle",{name:"prfActualName",show:e})}async function y(){const e=a.data;if(!e)return;const s="/api/message/vrf-file"+(a.isTeam?"-team":"");i.get(s,{id:e.id,type:e.type,controller:e.controller}).then(t=>{if(t.status==1&&t.url)window.open(t.url,"_blank");else if(!a.isTeam&&t.status==2)alert("sorry,you cannot download personal PRF");else if(t.status==404)alert(u);else{if(t.name){const l=document.querySelector('input[name="prfRealName"]');l&&(l.value=t.name)}p(!0)}}).then(a.resolve).catch(a.reject).finally(()=>{delete a.resolve,delete a.reject})}export{d as __vite_legacy_guard};